<Window x:Class="DesktopPlus.DesktopPanel"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="DesktopPanel"
        Width="600" Height="400"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        ResizeMode="CanResizeWithGrip"
        PreviewMouseWheel="Window_MouseWheel"
        AllowDrop="True" Drop="Window_Drop"
        ShowInTaskbar="False"
        Topmost="False">

    <Border Background="#AA202020" CornerRadius="12" BorderBrush="#444" BorderThickness="2">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="35"/>
                <!-- Titelleiste -->
                <RowDefinition Height="*"/>
                <!-- Inhalt -->
            </Grid.RowDefinitions>

            <!-- TITELLEISTE -->
            <Border Grid.Row="0" Background="#CC1E1E1E" CornerRadius="10,10,0,0">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="30"/>
                        <ColumnDefinition Width="30"/>
                        <ColumnDefinition Width="10"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="30"/>
                        <ColumnDefinition Width="40"/>
                    </Grid.ColumnDefinitions>

                    <Button Grid.Column="0"
                            Content="⠿"
                            FontSize="16"
                            Foreground="White"
                            Background="Transparent"
                            BorderThickness="0"
                            ToolTip="Fenster verschieben"
                            PreviewMouseLeftButtonDown="MoveButton_MouseLeftButtonDown">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="Background" Value="Transparent"/>
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#30FFFFFF"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>

                    <!-- BURGER-MENÜ -->
                    <Button Grid.Column="1"
                            Content="⛭"
                            FontSize="16"
                            Foreground="White"
                            Background="Transparent"
                            BorderThickness="0"
                            Click="BurgerMenu_Click">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="Background" Value="Transparent"/>
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#30FFFFFF"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>

                    <!-- PANEL-TITEL -->
                    <TextBlock x:Name="PanelTitle"
                               Grid.Column="3"
                               Text="DesktopPanel"
                               Foreground="White"
                               FontSize="14"
                               VerticalAlignment="Center"
                               HorizontalAlignment="Center"
                               FontWeight="Bold"/>

                    <!-- EINKLAPP-BUTTON -->
                    <Button Grid.Column="4"
                            Content="–"
                            FontSize="18"
                            FontWeight="Bold"
                            Foreground="White"
                            Background="Transparent"
                            BorderThickness="0"
                            ToolTip="Inhalt ein-/ausklappen"
                            Click="Collapse_Click" VerticalAlignment="Bottom">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="Background" Value="Transparent"/>
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#30FFFFFF"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>

                    <!-- SCHLIESSEN-BUTTON -->
                    <Button Grid.Column="5"
                            Content="✖"
                            FontSize="14"
                            Foreground="White"
                            Background="Transparent"
                            BorderThickness="0"
                            Click="Close_Click">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="Background" Value="Transparent"/>
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#40FF0000"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                </Grid>
            </Border>
            
            <!-- SCROLLBEREICH -->
            <ScrollViewer  Name="ContentContainer" Grid.Row="1" Margin="5"
                          VerticalScrollBarVisibility="Auto"
                          HorizontalScrollBarVisibility="Disabled"
                          PreviewMouseWheel="ScrollViewer_MouseWheel">

                <ScrollViewer.Resources>
                    <!-- Stil für ScrollBar -->
                    <Style TargetType="ScrollBar">
                        <Setter Property="Width" Value="8"/>
                        <Setter Property="Background" Value="Transparent"/>
                        <Setter Property="Opacity" Value="0.3"/>
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Opacity" Value="0.8"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>

                    <!-- Stil für den Scroll-Thumb -->
                    <Style TargetType="Thumb">
                        <Setter Property="Background" Value="#BBBBBB"/>
                        <!-- Heller Grauton -->
                        <Setter Property="Opacity" Value="0.1"/>
                        <!-- Leicht transparent -->
                        <Setter Property="Height" Value="50"/>
                        <Setter Property="Margin" Value="2"/>
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="Thumb">
                                    <Border Background="{TemplateBinding Background}" 
                                            CornerRadius="6"/>
                                    <!-- Runde Ecken -->
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#DDDDDD"/>
                                <!-- Hellgrau -->
                                <Setter Property="Opacity" Value="0.9"/>
                                <!-- Weniger transparent -->
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </ScrollViewer.Resources>

                <!-- LISTE DER DATEIEN & ORDNER -->
                <ListBox Name="FileList"
                         Background="Transparent"
                         BorderThickness="0"
                         Foreground="White"
                         SelectionMode="Single"
                         MouseDoubleClick="FileList_MouseDoubleClick"
                         PreviewMouseLeftButtonDown="FileList_PreviewMouseLeftButtonDown"
                         MouseMove="FileList_MouseMove"
                         Drop="FileList_Drop"
                         ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                         ScrollViewer.VerticalScrollBarVisibility="Auto">
                    <ListBox.Resources>
                        <!-- Stil für ListBoxItem ohne sichtbare Auswahl -->
                        <Style TargetType="ListBoxItem">
                            <Setter Property="Background" Value="Transparent"/>
                            <Setter Property="Foreground" Value="White"/>
                            <Setter Property="BorderThickness" Value="0"/>
                            <Setter Property="Padding" Value="0"/>
                            <Setter Property="Margin" Value="0"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="ListBoxItem">
                                        <ContentPresenter />
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </ListBox.Resources>
                    <ListBox.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel Orientation="Horizontal"
                                       IsItemsHost="True"
                                       MinWidth="0"
                                       MinHeight="0"
                                       />
                        </ItemsPanelTemplate>
                    </ListBox.ItemsPanel>
                </ListBox>
            </ScrollViewer>
        </Grid>
    </Border>
</Window>
